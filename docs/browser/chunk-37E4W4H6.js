import{b as P}from"./chunk-JJSDBTMF.js";import{A as R,F as I,b as p,e as y,f as c,h as O,i as S,m as k,p as E,r as F,x as L,y as T,z as N}from"./chunk-LNHBMWTA.js";import{i as x,j as M}from"./chunk-ROIV5QGY.js";import{$b as C,Cb as t,Db as i,Eb as m,Kb as v,Tc as w,Vb as n,Ya as l,Za as d,ac as _,ja as b,pb as g,rb as u,xb as f}from"./chunk-VZFTKLKS.js";function j(o,r){o&1&&(t(0,"small",6),n(1,"El email es obligatorio"),i())}function D(o,r){o&1&&(t(0,"small",6),n(1,"El email no tiene un formato v\xE1lido"),i())}function q(o,r){o&1&&(t(0,"small",6),n(1,"La contrase\xF1a es obligatoria"),i())}function z(o,r){o&1&&(t(0,"small",6),n(1,"La contrase\xF1a debe tener m\xEDnimo 8 caracteres"),i())}var X=(()=>{let r=class r{constructor(a,s,e,h){this.fb=a,this.authService=s,this.router=e,this.messageService=h}ngOnInit(){this.form=this.fb.group({email:["mibaca27@gmail.com",[c.required,c.email]],password:["12345678",[c.required,c.minLength(8)]]})}login(){if(this.form.valid){let{email:a,password:s}=this.form.value;this.authService.login(a,s).subscribe({next:()=>this.router.navigateByUrl("/home"),error:e=>{e!==void 0?this.errorToast(e):this.errorToast("El servidor no est\xE1 disponible")}})}}get email(){return this.form.get("email")}get password(){return this.form.get("password")}success(a){this.messageService.add({severity:"success",summary:"Success",detail:a})}errorToast(a){this.messageService.add({severity:"error",summary:"Error",detail:a})}};r.\u0275fac=function(s){return new(s||r)(d(L),d(P),d(x),d(p))},r.\u0275cmp=b({type:r,selectors:[["app-login"]],standalone:!0,features:[C([p]),_],decls:30,vars:4,consts:[[1,"background-image"],[1,"form-container"],["autocomplete","off",3,"submit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","formControlName","email",1,"form-control"],[1,"text-danger","font-italic"],["for","password"],["type","password","id","password","name","password","formControlName","password",1,"form-control","forgot"],["routerLink","/change-password",1,"forgot-password"],[1,"cuadroRegis"],["type","submit",1,"btn","btn-primary","mt-4",3,"disabled"],[1,"enlaces"],["routerLink","/register",1,"registration"],["routerLink","/home",1,"registration"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),n(3,"Iniciar sesi\xF3n"),i(),t(4,"form",2),v("submit",function(){return e.login()}),m(5,"p-toast"),t(6,"div",3)(7,"label",4),n(8,"Email:"),i(),m(9,"input",5),g(10,j,2,0,"small",6)(11,D,2,0),i(),t(12,"div",3)(13,"label",7),n(14,"Contrase\xF1a:"),i(),m(15,"input",8),g(16,q,2,0,"small",6)(17,z,2,0),t(18,"a",9),n(19,"\xBFTe olvidaste de la contrase\xF1a?"),i()(),t(20,"div",10)(21,"button",11),n(22,"Iniciar sesi\xF3n"),i(),t(23,"div",12),m(24,"hr"),t(25,"a",13),n(26,"\xBFNo tienes cuenta? Registrate"),i(),m(27,"hr"),t(28,"a",14),n(29,"Inicio"),i()()()()()()),s&2&&(l(4),u("formGroup",e.form),l(6),f(10,e.email.errors!=null&&e.email.errors.required&&e.email.dirty?10:e.email.errors!=null&&e.email.errors.email?11:-1),l(6),f(16,e.password.errors!=null&&e.password.errors.required&&e.password.dirty?16:e.password.errors!=null&&e.password.errors.minlength?17:-1),l(5),u("disabled",e.form.invalid))},dependencies:[N,k,y,O,S,E,F,T,I,M,R,w],styles:[".background-image[_ngcontent-%COMP%]{background-image:url(https://www.iestrassierra.net/alumnado/curso2324/DAW/daw2324a02/images/login-min.jpg);background-size:cover;background-position:right;background-repeat:no-repeat;height:100vh;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]{max-width:400px;width:70%;padding:20px;background-color:#fffc;border-radius:10px;box-shadow:0 0 10px #0000004d}.form-group[_ngcontent-%COMP%]{margin-top:.5em}.registration[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.cuadroRegis[_ngcontent-%COMP%]{display:grid;gap:10px;place-items:center}.registration[_ngcontent-%COMP%]{padding-bottom:0}.enlaces[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.forgot-password[_ngcontent-%COMP%]{margin-top:1em;text-decoration:none}.forgot[_ngcontent-%COMP%]{margin-bottom:.5em}@media (min-width: 500px) and (max-width: 800px){.form-container[_ngcontent-%COMP%]{width:70%}.background-image[_ngcontent-%COMP%]{background-size:cover;background-position:right;background-repeat:no-repeat}.cuadroRegis[_ngcontent-%COMP%]{display:flex;gap:10px;place-items:center}.enlaces[_ngcontent-%COMP%]{padding-top:.8em;flex-direction:row}}@media (min-width: 900px) and (max-width: 1400px){.form-container[_ngcontent-%COMP%]{width:60%}.background-image[_ngcontent-%COMP%]{background-size:cover;background-position:right top;background-repeat:no-repeat}.cuadroRegis[_ngcontent-%COMP%]{display:flex;gap:10px;place-items:center}.enlaces[_ngcontent-%COMP%]{padding-top:.8em;flex-direction:row}hr[_ngcontent-%COMP%]{display:none}}@media (min-width: 1401px){.form-container[_ngcontent-%COMP%]{width:100%;max-width:30%}.background-image[_ngcontent-%COMP%]{background-size:cover;background-position:top;background-repeat:no-repeat}.cuadroRegis[_ngcontent-%COMP%]{display:flex;gap:10px;place-items:center}.enlaces[_ngcontent-%COMP%]{padding-top:1.8em;flex-direction:row}.enlaces[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-right:1em}}"]});let o=r;return o})();export{X as a};
